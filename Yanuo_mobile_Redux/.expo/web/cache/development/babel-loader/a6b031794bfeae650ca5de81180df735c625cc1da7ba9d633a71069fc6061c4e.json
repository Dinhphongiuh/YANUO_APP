{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst React = __importStar(require(\"react\"));\nconst react_native_1 = require(\"react-native-web/dist/index\");\nconst useKey_1 = require(\"./hooks/useKey\");\nconst Manager_1 = require(\"./Manager\");\nexports.Context = React.createContext(null);\nexports.Host = ({\n  children,\n  style\n}) => {\n  const managerRef = React.useRef(null);\n  const queue = [];\n  const {\n    generateKey,\n    removeKey\n  } = useKey_1.useKey();\n  React.useEffect(() => {\n    var _a, _b, _c;\n    while (queue.length && managerRef.current) {\n      const action = queue.pop();\n      if (action) {\n        switch (action.type) {\n          case 'mount':\n            (_a = managerRef.current) === null || _a === void 0 ? void 0 : _a.mount(action.key, action.children);\n            break;\n          case 'update':\n            (_b = managerRef.current) === null || _b === void 0 ? void 0 : _b.update(action.key, action.children);\n            break;\n          case 'unmount':\n            (_c = managerRef.current) === null || _c === void 0 ? void 0 : _c.unmount(action.key);\n            break;\n        }\n      }\n    }\n  }, []);\n  const mount = children => {\n    const key = generateKey();\n    if (managerRef.current) {\n      managerRef.current.mount(key, children);\n    } else {\n      queue.push({\n        type: 'mount',\n        key,\n        children\n      });\n    }\n    return key;\n  };\n  const update = (key, children) => {\n    if (managerRef.current) {\n      managerRef.current.update(key, children);\n    } else {\n      const op = {\n        type: 'mount',\n        key,\n        children\n      };\n      const index = queue.findIndex(o => o.type === 'mount' || o.type === 'update' && o.key === key);\n      if (index > -1) {\n        queue[index] = op;\n      } else {\n        queue.push(op);\n      }\n    }\n  };\n  const unmount = key => {\n    if (managerRef.current) {\n      managerRef.current.unmount(key);\n      removeKey(key);\n    } else {\n      queue.push({\n        type: 'unmount',\n        key\n      });\n    }\n  };\n  return React.createElement(exports.Context.Provider, {\n    value: {\n      mount,\n      update,\n      unmount\n    }\n  }, React.createElement(react_native_1.View, {\n    style: [{\n      flex: 1\n    }, style],\n    collapsable: false,\n    pointerEvents: \"box-none\"\n  }, children), React.createElement(Manager_1.Manager, {\n    ref: managerRef\n  }));\n};","map":{"version":3,"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","defineProperty","exports","value","React","require","react_native_1","useKey_1","Manager_1","Context","createContext","Host","children","style","managerRef","useRef","queue","generateKey","removeKey","useKey","useEffect","_a","_b","_c","length","current","action","pop","type","mount","key","update","unmount","push","op","index","findIndex","o","createElement","Provider","View","flex","collapsable","pointerEvents","Manager","ref"],"sources":["C:/Users/DinhPhongIUH/Desktop/nhap/Yanuo_mobile_Redux/node_modules/react-native-portalize/lib/Host.js"],"sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst useKey_1 = require(\"./hooks/useKey\");\nconst Manager_1 = require(\"./Manager\");\nexports.Context = React.createContext(null);\nexports.Host = ({ children, style }) => {\n    const managerRef = React.useRef(null);\n    const queue = [];\n    const { generateKey, removeKey } = useKey_1.useKey();\n    React.useEffect(() => {\n        var _a, _b, _c;\n        while (queue.length && managerRef.current) {\n            const action = queue.pop();\n            if (action) {\n                switch (action.type) {\n                    case 'mount':\n                        (_a = managerRef.current) === null || _a === void 0 ? void 0 : _a.mount(action.key, action.children);\n                        break;\n                    case 'update':\n                        (_b = managerRef.current) === null || _b === void 0 ? void 0 : _b.update(action.key, action.children);\n                        break;\n                    case 'unmount':\n                        (_c = managerRef.current) === null || _c === void 0 ? void 0 : _c.unmount(action.key);\n                        break;\n                }\n            }\n        }\n    }, []);\n    const mount = (children) => {\n        const key = generateKey();\n        if (managerRef.current) {\n            managerRef.current.mount(key, children);\n        }\n        else {\n            queue.push({ type: 'mount', key, children });\n        }\n        return key;\n    };\n    const update = (key, children) => {\n        if (managerRef.current) {\n            managerRef.current.update(key, children);\n        }\n        else {\n            const op = { type: 'mount', key, children };\n            const index = queue.findIndex(o => o.type === 'mount' || (o.type === 'update' && o.key === key));\n            if (index > -1) {\n                queue[index] = op;\n            }\n            else {\n                queue.push(op);\n            }\n        }\n    };\n    const unmount = (key) => {\n        if (managerRef.current) {\n            managerRef.current.unmount(key);\n            removeKey(key);\n        }\n        else {\n            queue.push({ type: 'unmount', key });\n        }\n    };\n    return (React.createElement(exports.Context.Provider, { value: { mount, update, unmount } },\n        React.createElement(react_native_1.View, { style: [{ flex: 1 }, style], collapsable: false, pointerEvents: \"box-none\" }, children),\n        React.createElement(Manager_1.Manager, { ref: managerRef })));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}