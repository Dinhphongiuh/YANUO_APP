{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nconst _excluded = [\"source\", \"events\", \"contentPosition\", \"hashPlaceholderContentPosition\", \"priority\", \"style\", \"hashPlaceholderStyle\", \"tintColor\", \"className\", \"accessibilityLabel\", \"cachePolicy\"];\nvar _jsxFileName = \"C:\\\\Users\\\\DinhPhongIUH\\\\Desktop\\\\nhap\\\\Yanuo_mobile_Redux\\\\node_modules\\\\expo-image\\\\build\\\\web\\\\ImageWrapper.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect } from 'react';\nimport ColorTintFilter, { getTintColorStyle } from './ColorTintFilter';\nimport { getImageWrapperEventHandler } from './getImageWrapperEventHandler';\nimport { useHeaders, useImageHashes } from './hooks';\nimport { absoluteFilledPosition, getObjectPositionFromContentPositionObject } from './positioning';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getFetchPriorityFromImagePriority(priority = 'normal') {\n  return priority && ['low', 'high'].includes(priority) ? priority : 'auto';\n}\nfunction getImgPropsFromSource(source) {\n  if (source && 'srcset' in source) {\n    return {\n      srcSet: source.srcset,\n      sizes: source.sizes\n    };\n  }\n  return {};\n}\nconst ImageWrapper = React.forwardRef((_ref, ref) => {\n  let {\n      source,\n      events,\n      contentPosition,\n      hashPlaceholderContentPosition,\n      priority,\n      style,\n      hashPlaceholderStyle,\n      tintColor,\n      className,\n      accessibilityLabel,\n      cachePolicy\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  useEffect(() => {\n    events?.onMount?.forEach(e => e?.());\n  }, []);\n  const {\n    resolvedSource,\n    isImageHash\n  } = useImageHashes(source);\n  const objectPosition = getObjectPositionFromContentPositionObject(isImageHash ? hashPlaceholderContentPosition : contentPosition);\n  const sourceWithHeaders = useHeaders(resolvedSource, cachePolicy, events?.onError);\n  if (!sourceWithHeaders) {\n    return null;\n  }\n  return _jsxDEV(_Fragment, {\n    children: [_jsxDEV(ColorTintFilter, {\n      tintColor: tintColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), _jsxDEV(\"img\", _objectSpread(_objectSpread(_objectSpread({\n      ref: ref,\n      alt: accessibilityLabel,\n      className: className,\n      src: sourceWithHeaders?.uri || undefined,\n      style: _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n        objectPosition\n      }, absoluteFilledPosition), getTintColorStyle(tintColor)), style), isImageHash ? hashPlaceholderStyle : {}),\n      fetchpriority: getFetchPriorityFromImagePriority(priority || 'normal')\n    }, getImageWrapperEventHandler(events, sourceWithHeaders)), getImgPropsFromSource(source)), props), source?.uri, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n});\nexport default ImageWrapper;","map":{"version":3,"names":["React","useEffect","ColorTintFilter","getTintColorStyle","getImageWrapperEventHandler","useHeaders","useImageHashes","absoluteFilledPosition","getObjectPositionFromContentPositionObject","jsxDEV","_jsxDEV","Fragment","_Fragment","getFetchPriorityFromImagePriority","priority","includes","getImgPropsFromSource","source","srcSet","srcset","sizes","ImageWrapper","forwardRef","_ref","ref","events","contentPosition","hashPlaceholderContentPosition","style","hashPlaceholderStyle","tintColor","className","accessibilityLabel","cachePolicy","props","_objectWithoutProperties","_excluded","onMount","forEach","e","resolvedSource","isImageHash","objectPosition","sourceWithHeaders","onError","children","fileName","_jsxFileName","lineNumber","columnNumber","_objectSpread","alt","src","uri","undefined","fetchpriority"],"sources":["C:\\Users\\DinhPhongIUH\\Desktop\\nhap\\Yanuo_mobile_Redux\\node_modules\\expo-image\\src\\web\\ImageWrapper.tsx"],"sourcesContent":["import React, { useEffect, Ref } from 'react';\n\nimport ColorTintFilter, { getTintColorStyle } from './ColorTintFilter';\nimport { ImageWrapperProps } from './ImageWrapper.types';\nimport { getImageWrapperEventHandler } from './getImageWrapperEventHandler';\nimport { useHeaders, useImageHashes } from './hooks';\nimport { absoluteFilledPosition, getObjectPositionFromContentPositionObject } from './positioning';\nimport { SrcSetSource } from './useSourceSelection';\nimport { ImageNativeProps, ImageSource } from '../Image.types';\n\nfunction getFetchPriorityFromImagePriority(priority: ImageNativeProps['priority'] = 'normal') {\n  return priority && ['low', 'high'].includes(priority) ? priority : 'auto';\n}\n\nfunction getImgPropsFromSource(source: ImageSource | SrcSetSource | null | undefined) {\n  if (source && 'srcset' in source) {\n    return {\n      srcSet: source.srcset,\n      sizes: source.sizes,\n    };\n  }\n  return {};\n}\n\nconst ImageWrapper = React.forwardRef(\n  (\n    {\n      source,\n      events,\n      contentPosition,\n      hashPlaceholderContentPosition,\n      priority,\n      style,\n      hashPlaceholderStyle,\n      tintColor,\n      className,\n      accessibilityLabel,\n      cachePolicy,\n      ...props\n    }: ImageWrapperProps,\n    ref: Ref<HTMLImageElement>\n  ) => {\n    useEffect(() => {\n      events?.onMount?.forEach((e) => e?.());\n    }, []);\n\n    // Thumbhash uri always has to start with 'thumbhash:/'\n    const { resolvedSource, isImageHash } = useImageHashes(source);\n    const objectPosition = getObjectPositionFromContentPositionObject(\n      isImageHash ? hashPlaceholderContentPosition : contentPosition\n    );\n\n    const sourceWithHeaders = useHeaders(resolvedSource, cachePolicy, events?.onError);\n    if (!sourceWithHeaders) {\n      return null;\n    }\n    return (\n      <>\n        <ColorTintFilter tintColor={tintColor} />\n        <img\n          ref={ref}\n          alt={accessibilityLabel}\n          className={className}\n          src={sourceWithHeaders?.uri || undefined}\n          key={source?.uri}\n          style={{\n            objectPosition,\n            ...absoluteFilledPosition,\n            ...getTintColorStyle(tintColor),\n            ...style,\n            ...(isImageHash ? hashPlaceholderStyle : {}),\n          }}\n          // @ts-ignore\n          // eslint-disable-next-line react/no-unknown-property\n          fetchpriority={getFetchPriorityFromImagePriority(priority || 'normal')}\n          {...getImageWrapperEventHandler(events, sourceWithHeaders)}\n          {...getImgPropsFromSource(source)}\n          {...props}\n        />\n      </>\n    );\n  }\n);\n\nexport default ImageWrapper;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAa,OAAO;AAE7C,OAAOC,eAAe,IAAIC,iBAAiB,QAAQ,mBAAmB;AAEtE,SAASC,2BAA2B,QAAQ,+BAA+B;AAC3E,SAASC,UAAU,EAAEC,cAAc,QAAQ,SAAS;AACpD,SAASC,sBAAsB,EAAEC,0CAA0C,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAInG,SAASC,iCAAiCA,CAACC,QAAA,GAAyC,QAAQ;EAC1F,OAAOA,QAAQ,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAACC,QAAQ,CAACD,QAAQ,CAAC,GAAGA,QAAQ,GAAG,MAAM;AAC3E;AAEA,SAASE,qBAAqBA,CAACC,MAAqD;EAClF,IAAIA,MAAM,IAAI,QAAQ,IAAIA,MAAM,EAAE;IAChC,OAAO;MACLC,MAAM,EAAED,MAAM,CAACE,MAAM;MACrBC,KAAK,EAAEH,MAAM,CAACG;KACf;;EAEH,OAAO,EAAE;AACX;AAEA,MAAMC,YAAY,GAAGrB,KAAK,CAACsB,UAAU,CACnC,CAAAC,IAAA,EAeEC,GAA0B,KACxB;EAAA,IAfF;MACEP,MAAM;MACNQ,MAAM;MACNC,eAAe;MACfC,8BAA8B;MAC9Bb,QAAQ;MACRc,KAAK;MACLC,oBAAoB;MACpBC,SAAS;MACTC,SAAS;MACTC,kBAAkB;MAClBC;IACQ,CACU,GAAAV,IAAA;IADfW,KAAK,GAAAC,wBAAA,CAAAZ,IAAA,EAAAa,SAAA;EAIVnC,SAAS,CAAC,MAAK;IACbwB,MAAM,EAAEY,OAAO,EAAEC,OAAO,CAAEC,CAAC,IAAKA,CAAC,GAAE,CAAE,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAGN,MAAM;IAAEC,cAAc;IAAEC;EAAW,CAAE,GAAGnC,cAAc,CAACW,MAAM,CAAC;EAC9D,MAAMyB,cAAc,GAAGlC,0CAA0C,CAC/DiC,WAAW,GAAGd,8BAA8B,GAAGD,eAAe,CAC/D;EAED,MAAMiB,iBAAiB,GAAGtC,UAAU,CAACmC,cAAc,EAAEP,WAAW,EAAER,MAAM,EAAEmB,OAAO,CAAC;EAClF,IAAI,CAACD,iBAAiB,EAAE;IACtB,OAAO,IAAI;;EAEb,OACEjC,OAAA,CAAAE,SAAA;IAAAiC,QAAA,GACEnC,OAAA,CAACR,eAAe;MAAC4B,SAAS,EAAEA;IAAU;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACtC,EAAAvC,OAAA,QAAAwC,aAAA,CAAAA,aAAA,CAAAA,aAAA;MACE1B,GAAG,EAAEA,GAAI;MACT2B,GAAG,EAAEnB,kBAAmB;MACxBD,SAAS,EAAEA,SAAU;MACrBqB,GAAG,EAAET,iBAAiB,EAAEU,GAAG,IAAIC,SAAU;MAEzC1B,KAAK,EAAAsB,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA;QACHR;MAAc,GACXnC,sBAAsB,GACtBJ,iBAAiB,CAAC2B,SAAS,CAAC,GAC5BF,KAAK,GACJa,WAAW,GAAGZ,oBAAoB,GAAG,EAAE,CAC3C;MAGF0B,aAAa,EAAE1C,iCAAiC,CAACC,QAAQ,IAAI,QAAQ;IAAE,GACnEV,2BAA2B,CAACqB,MAAM,EAAEkB,iBAAiB,CAAC,GACtD3B,qBAAqB,CAACC,MAAM,CAAC,GAC7BiB,KAAK,GAbJjB,MAAM,EAAEoC,GAAG;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAaN,CAEd;EAAA,gBAAG;AAEP,CAAC,CACF;AAED,eAAe5B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}