{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useImageDimensions = void 0;\nvar react_1 = require(\"react\");\nvar react_native_1 = require(\"react-native-web/dist/index\");\nfunction useImageDimensions(source, headers) {\n  var _a = (0, react_1.useState)({\n      loading: true\n    }),\n    result = _a[0],\n    setResult = _a[1];\n  (0, react_1.useEffect)(function () {\n    try {\n      if (typeof source === 'number') {\n        var _a = react_native_1.Image.resolveAssetSource(source),\n          width = _a.width,\n          height = _a.height;\n        setResult({\n          dimensions: {\n            width: width,\n            height: height,\n            aspectRatio: width / height\n          },\n          loading: false\n        });\n        return;\n      }\n      if (typeof source === 'object' && source.uri) {\n        setResult({\n          loading: true\n        });\n        if (typeof headers === 'object') {\n          react_native_1.Image.getSizeWithHeaders(source.uri, headers, function (width, height) {\n            return setResult({\n              dimensions: {\n                width: width,\n                height: height,\n                aspectRatio: width / height\n              },\n              loading: false\n            });\n          }, function (error) {\n            return setResult({\n              error: error,\n              loading: false\n            });\n          });\n        } else {\n          react_native_1.Image.getSize(source.uri, function (width, height) {\n            return setResult({\n              dimensions: {\n                width: width,\n                height: height,\n                aspectRatio: width / height\n              },\n              loading: false\n            });\n          }, function (error) {\n            return setResult({\n              error: error,\n              loading: false\n            });\n          });\n        }\n        return;\n      }\n      throw new Error('not implemented');\n    } catch (error) {\n      setResult({\n        error: error,\n        loading: false\n      });\n    }\n  }, [typeof source === 'object' ? source.uri : source, headers]);\n  return result;\n}\nexports.useImageDimensions = useImageDimensions;","map":{"version":3,"names":["react_1","require","react_native_1","useImageDimensions","source","headers","_a","useState","loading","result","setResult","useEffect","Image","resolveAssetSource","width","height","dimensions","aspectRatio","uri","getSizeWithHeaders","error","getSize","Error","exports"],"sources":["../src/useImageDimensions.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAAyC,IAAAC,cAAA,GAAAD,OAAA;AA0BzC,SAAgBE,kBAAkBA,CAChCC,MAA6B,EAC7BC,OAAmC;EAE7B,IAAAC,EAAA,GAAsB,IAAAN,OAAA,CAAAO,QAAQ,EAAwB;MAACC,OAAO,EAAE;IAAI,CAAC,CAAC;IAArEC,MAAM,GAAAH,EAAA;IAAEI,SAAS,GAAAJ,EAAA,GAAoD;EAE5E,IAAAN,OAAA,CAAAW,SAAS,EAAC;IACR,IAAI;MACF,IAAI,OAAOP,MAAM,KAAK,QAAQ,EAAE;QACxB,IAAAE,EAAA,GAAkBJ,cAAA,CAAAU,KAAK,CAACC,kBAAkB,CAACT,MAAM,CAAC;UAAjDU,KAAK,GAAAR,EAAA,CAAAQ,KAAA;UAAEC,MAAM,GAAAT,EAAA,CAAAS,MAAoC;QAExDL,SAAS,CAAC;UACRM,UAAU,EAAE;YAACF,KAAK,EAAAA,KAAA;YAAEC,MAAM,EAAAA,MAAA;YAAEE,WAAW,EAAEH,KAAK,GAAGC;UAAM,CAAC;UACxDP,OAAO,EAAE;SACV,CAAC;QAEF;;MAGF,IAAI,OAAOJ,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACc,GAAG,EAAE;QAC5CR,SAAS,CAAC;UAACF,OAAO,EAAE;QAAI,CAAC,CAAC;QAE1B,IAAI,OAAOH,OAAO,KAAK,QAAQ,EAAE;UAC/BH,cAAA,CAAAU,KAAK,CAACO,kBAAkB,CACtBf,MAAM,CAACc,GAAG,EACVb,OAAO,EACP,UAACS,KAAK,EAAEC,MAAM;YACZ,OAAAL,SAAS,CAAC;cACRM,UAAU,EAAE;gBAACF,KAAK,EAAAA,KAAA;gBAAEC,MAAM,EAAAA,MAAA;gBAAEE,WAAW,EAAEH,KAAK,GAAGC;cAAM,CAAC;cACxDP,OAAO,EAAE;aACV,CAAC;UAHF,CAGE,EACJ,UAACY,KAAK;YAAK,OAAAV,SAAS,CAAC;cAACU,KAAK,EAAAA,KAAA;cAAEZ,OAAO,EAAE;YAAK,CAAC,CAAC;UAAlC,CAAkC,CAC9C;SACF,MAAM;UACLN,cAAA,CAAAU,KAAK,CAACS,OAAO,CACXjB,MAAM,CAACc,GAAG,EACV,UAACJ,KAAK,EAAEC,MAAM;YACZ,OAAAL,SAAS,CAAC;cACRM,UAAU,EAAE;gBAACF,KAAK,EAAAA,KAAA;gBAAEC,MAAM,EAAAA,MAAA;gBAAEE,WAAW,EAAEH,KAAK,GAAGC;cAAM,CAAC;cACxDP,OAAO,EAAE;aACV,CAAC;UAHF,CAGE,EACJ,UAACY,KAAK;YAAK,OAAAV,SAAS,CAAC;cAACU,KAAK,EAAAA,KAAA;cAAEZ,OAAO,EAAE;YAAK,CAAC,CAAC;UAAlC,CAAkC,CAC9C;;QAGH;;MAGF,MAAM,IAAIc,KAAK,CAAC,iBAAiB,CAAC;KACnC,CAAC,OAAOF,KAAK,EAAE;MACdV,SAAS,CAAC;QAACU,KAAK,EAAEA,KAAc;QAAEZ,OAAO,EAAE;MAAK,CAAC,CAAC;;EAGtD,CAAC,EAAE,CAAC,OAAOJ,MAAM,KAAK,QAAQ,GAAGA,MAAM,CAACc,GAAG,GAAGd,MAAM,EAAEC,OAAO,CAAC,CAAC;EAE/D,OAAOI,MAAM;AACf;AAxDAc,OAAA,CAAApB,kBAAA,GAAAA,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}